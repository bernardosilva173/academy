name: action
description: first action
inputs:
  action-first:
    description: "My first action"
    required: false
    default: "first"
  path_dockerfile:
    required: false
    default: "Dockerfile" 
  image_name:
    required: true
  tag_name:
    required: false
    default: "Optional"
  
runs:
  using: composite
  steps: 
    - run:  |
        if [ -z "$tag_name" ]; then
          echo "TAG=$(date +%s)" >> $GITHUB_ENV
        else
          echo "TAG=$tag_name" >> $GITHUB_ENV
        fi
        echo "DOCKER_IMAGE_NAME=$NAME" >> $GITHUB_ENV
        docker build . --file "$NAME" --tag academy:$(date +%s)
      shell: bash